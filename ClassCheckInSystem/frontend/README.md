# è¯¾å ‚è€ƒå‹¤ç­¾åˆ°ç³»ç»Ÿ - Streamlitå‰ç«¯é¡¹ç›®

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºStreamlitæ¡†æ¶æ„å»ºçš„è¯¾å ‚è€ƒå‹¤ç­¾åˆ°ç³»ç»Ÿå‰ç«¯é¡¹ç›®ï¼Œä¸Flaskåç«¯æ— ç¼å¯¹æ¥ï¼Œæä¾›å®Œæ•´çš„å­¦ç”Ÿã€æ•™å¸ˆã€ç®¡ç†å‘˜ä¸‰ç«¯åŠŸèƒ½ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ .streamlit/                 # Streamlité…ç½®
â”‚   â””â”€â”€ config.toml            # é…ç½®æ–‡ä»¶
â”œâ”€â”€ pages/                      # å¤šé¡µé¢åº”ç”¨
â”‚   â”œâ”€â”€ 1_å­¦ç”Ÿç«¯.py            # å­¦ç”ŸåŠŸèƒ½é¡µé¢
â”‚   â”œâ”€â”€ 2_æ•™å¸ˆç«¯.py            # æ•™å¸ˆåŠŸèƒ½é¡µé¢
â”‚   â””â”€â”€ 3_ç®¡ç†å‘˜ç«¯.py           # ç®¡ç†å‘˜åŠŸèƒ½é¡µé¢
â”œâ”€â”€ utils/                      # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ api_client.py          # Flask APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ auth.py               # è®¤è¯ç®¡ç†
â”‚   â”œâ”€â”€ qr_code.py            # äºŒç»´ç ç”Ÿæˆ
â”‚   â”œâ”€â”€ geolocation.py        # åœ°ç†ä½ç½®å¤„ç†
â”‚   â””â”€â”€ charts.py             # å›¾è¡¨ç»„ä»¶
â”œâ”€â”€ components/                 # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ forms.py              # è¡¨å•ç»„ä»¶
â”‚   â””â”€â”€ tables.py             # è¡¨æ ¼ç»„ä»¶
â”œâ”€â”€ assets/                     # é™æ€èµ„æº
â”‚   â””â”€â”€ styles.css            # è‡ªå®šä¹‰æ ·å¼
â”œâ”€â”€ app.py                     # ä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ run.py                     # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ requirements.txt           # ä¾èµ–åŒ…
â””â”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. å¯åŠ¨åº”ç”¨

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
python run.py

# æ–¹æ³•2ï¼šç›´æ¥å¯åŠ¨
streamlit run app.py
```

### 3. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://127.0.0.1:8501

## ğŸ¨ åŠŸèƒ½ç‰¹æ€§

### å­¦ç”Ÿç«¯åŠŸèƒ½
- ğŸ” **ç”¨æˆ·ç™»å½•è®¤è¯** - å®‰å…¨çš„JWTè®¤è¯ç³»ç»Ÿ
- ğŸ“± **äºŒç»´ç ç­¾åˆ°** - ç”Ÿæˆå’Œæ‰«æäºŒç»´ç è¿›è¡Œç­¾åˆ°
- ğŸ“ **åœ°ç†ä½ç½®ç­¾åˆ°** - åŸºäºGPSçš„ä½ç½®ç­¾åˆ°ï¼ˆ1å…¬é‡ŒèŒƒå›´ï¼‰
- ğŸ“Š **ä¸ªäººè€ƒå‹¤è®°å½•æŸ¥è¯¢** - æŸ¥çœ‹ä¸ªäººå‡ºå‹¤å†å²å’Œç»Ÿè®¡
- ğŸ“ **è€ƒå‹¤å¼‚å¸¸åé¦ˆ** - æäº¤è€ƒå‹¤é—®é¢˜åé¦ˆ

### æ•™å¸ˆç«¯åŠŸèƒ½
- ğŸ“ˆ **å®æ—¶å‡ºå‹¤ç‡ç»Ÿè®¡** - å®æ—¶ç›‘æ§è¯¾å ‚å‡ºå‹¤æƒ…å†µ
- âœï¸ **æ‰‹åŠ¨è¡¥ç­¾ç®¡ç†** - ä¸ºå­¦ç”Ÿè¿›è¡Œè¡¥ç­¾æ“ä½œ
- ğŸ“‹ **åé¦ˆå¤„ç†** - å¤„ç†å­¦ç”Ÿæäº¤çš„è€ƒå‹¤åé¦ˆ
- ğŸ“Š **æ•°æ®åˆ†æ** - å‡ºå‹¤ç‡è¶‹åŠ¿åˆ†æå’Œè¯¾ç¨‹å¯¹æ¯”

### ç®¡ç†å‘˜ç«¯åŠŸèƒ½
- ğŸ‘¥ **ç”¨æˆ·ç®¡ç†** - å­¦ç”Ÿã€æ•™å¸ˆã€ç®¡ç†å‘˜çš„å¢åˆ æ”¹æŸ¥
- ğŸ“š **è¯¾ç¨‹ç®¡ç†** - è¯¾ç¨‹ä¿¡æ¯çš„åˆ›å»ºå’Œç®¡ç†
- ğŸ“Š **æŠ¥è¡¨æŸ¥è¯¢** - å¤šç»´åº¦è€ƒå‹¤æŠ¥è¡¨ç”Ÿæˆå’Œå¯¼å‡º
- ğŸ“ˆ **æ•°æ®åˆ†æ** - å…¨æ ¡å‡ºå‹¤ç‡è¶‹åŠ¿å’Œå¼‚å¸¸åˆ†æ
- âš™ï¸ **ç³»ç»Ÿè®¾ç½®** - ç³»ç»Ÿé…ç½®å’Œç›‘æ§

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Streamlit 1.28+
- **åç«¯å¯¹æ¥**: Flask API
- **æ•°æ®å¯è§†åŒ–**: Plotly, Streamlit-AgGrid
- **åœ°å›¾åŠŸèƒ½**: Folium, Geopy
- **äºŒç»´ç **: QRCode
- **æ ·å¼ç¾åŒ–**: Streamlit-Extras, è‡ªå®šä¹‰CSS
- **çŠ¶æ€ç®¡ç†**: Streamlit Session State
- **HTTPå®¢æˆ·ç«¯**: Requests

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡
```bash
# Flaskåç«¯APIåœ°å€
FLASK_API_URL=http://localhost:5000

# æ•°æ®åº“é…ç½®
DB_URL=sqlite:///./dev.db

# Redisé…ç½®
REDIS_URL=redis://localhost:6379/0

# JWTé…ç½®
JWT_SECRET=your-secret-key
```

### Streamlité…ç½®
é…ç½®æ–‡ä»¶ä½äº `.streamlit/config.toml`ï¼š

```toml
[theme]
primaryColor = "#1f77b4"
backgroundColor = "#ffffff"
secondaryBackgroundColor = "#f0f2f6"
textColor = "#262730"
font = "sans serif"

[server]
headless = true
port = 8501
enableCORS = false
enableXsrfProtection = false

[browser]
gatherUsageStats = false
```

## ğŸ“¡ APIå¯¹æ¥

### ä¸»è¦APIç«¯ç‚¹

#### è®¤è¯ç›¸å…³
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `GET /api/auth/user` - è·å–ç”¨æˆ·ä¿¡æ¯

#### å­¦ç”Ÿç«¯API
- `POST /api/student/sign/qrcode/generate` - ç”Ÿæˆç­¾åˆ°äºŒç»´ç 
- `POST /api/student/sign/qrcode` - äºŒç»´ç ç­¾åˆ°
- `POST /api/student/sign/location` - ä½ç½®ç­¾åˆ°
- `GET /api/student/attendance` - è·å–è€ƒå‹¤è®°å½•
- `POST /api/student/feedback` - æäº¤åé¦ˆ

#### æ•™å¸ˆç«¯API
- `GET /api/teacher/attendance/rate` - è·å–å‡ºå‹¤ç‡
- `POST /api/teacher/makeup` - æ‰‹åŠ¨è¡¥ç­¾
- `GET /api/teacher/feedback/pending` - è·å–å¾…å¤„ç†åé¦ˆ
- `POST /api/teacher/feedback/handle` - å¤„ç†åé¦ˆ

#### ç®¡ç†å‘˜ç«¯API
- `GET /api/admin/users` - è·å–ç”¨æˆ·åˆ—è¡¨
- `POST /api/admin/users` - åˆ›å»ºç”¨æˆ·
- `PUT /api/admin/users/{id}` - æ›´æ–°ç”¨æˆ·
- `DELETE /api/admin/users/{id}` - åˆ é™¤ç”¨æˆ·
- `GET /api/admin/reports/attendance` - è·å–è€ƒå‹¤æŠ¥è¡¨
- `GET /api/admin/reports/export` - å¯¼å‡ºæŠ¥è¡¨
- `GET /api/admin/analytics/trend` - è·å–è¶‹åŠ¿æ•°æ®

## ğŸ¨ ç•Œé¢ç‰¹è‰²

### ç²¾ç¾è®¾è®¡
- ğŸ¨ **ç°ä»£åŒ–UI** - ä½¿ç”¨æ¸å˜è‰²å½©å’Œå¡ç‰‡è®¾è®¡
- ğŸ“± **å“åº”å¼å¸ƒå±€** - æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ğŸŒˆ **ä¸»é¢˜å®šåˆ¶** - å¯è‡ªå®šä¹‰é¢œè‰²ä¸»é¢˜
- âœ¨ **åŠ¨ç”»æ•ˆæœ** - æµç•…çš„è¿‡æ¸¡åŠ¨ç”»

### ä¸°å¯Œç»„ä»¶
- ğŸ“Š **æ•°æ®å¯è§†åŒ–** - Plotlyå›¾è¡¨å’Œä»ªè¡¨ç›˜
- ğŸ“‹ **æ™ºèƒ½è¡¨æ ¼** - Streamlit-AgGridé«˜çº§è¡¨æ ¼
- ğŸ—ºï¸ **åœ°å›¾é›†æˆ** - Foliumåœ°å›¾ç»„ä»¶
- ğŸ“± **äºŒç»´ç ** - ç”Ÿæˆå’Œè¯†åˆ«äºŒç»´ç 
- ğŸ“ **åœ°ç†ä½ç½®** - GPSå®šä½å’Œè·ç¦»è®¡ç®—

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- ğŸ” **JWTè®¤è¯** - å®‰å…¨çš„ä»¤ç‰Œè®¤è¯
- ğŸ›¡ï¸ **æƒé™æ§åˆ¶** - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- ğŸ”’ **æ•°æ®åŠ å¯†** - æ•æ„Ÿæ•°æ®åŠ å¯†ä¼ è¾“
- ğŸš« **CSRFä¿æŠ¤** - è·¨ç«™è¯·æ±‚ä¼ªé€ ä¿æŠ¤

## ğŸ“Š æ•°æ®å¯è§†åŒ–

### å›¾è¡¨ç±»å‹
- ğŸ“ˆ **è¶‹åŠ¿å›¾** - å‡ºå‹¤ç‡è¶‹åŠ¿åˆ†æ
- ğŸ¥§ **é¥¼å›¾** - å‡ºå‹¤ç‡åˆ†å¸ƒ
- ğŸ“Š **æŸ±çŠ¶å›¾** - è¯¾ç¨‹å¯¹æ¯”åˆ†æ
- ğŸŒ¡ï¸ **çƒ­åŠ›å›¾** - å¼‚å¸¸æƒ…å†µåˆ†æ
- ğŸ“Š **ä»ªè¡¨ç›˜** - å®æ—¶æŒ‡æ ‡ç›‘æ§

### äº¤äº’åŠŸèƒ½
- ğŸ” **æ•°æ®ç­›é€‰** - å¤šç»´åº¦æ•°æ®ç­›é€‰
- ğŸ“¥ **æŠ¥è¡¨å¯¼å‡º** - Excel/CSV/PDFå¯¼å‡º
- ğŸ–¨ï¸ **æ‰“å°æ”¯æŒ** - ä¼˜åŒ–çš„æ‰“å°æ ·å¼
- ğŸ“± **ç§»åŠ¨é€‚é…** - å“åº”å¼å›¾è¡¨æ˜¾ç¤º

## ğŸš€ éƒ¨ç½²è¯´æ˜

### æœ¬åœ°å¼€å‘
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd frontend

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
streamlit run app.py
```

### ç”Ÿäº§éƒ¨ç½²
```bash
# ä½¿ç”¨Dockeréƒ¨ç½²
docker build -t attendance-frontend .
docker run -p 8501:8501 attendance-frontend

# ä½¿ç”¨Streamlit Cloudéƒ¨ç½²
# å°†ä»£ç æ¨é€åˆ°GitHubï¼Œç„¶ååœ¨Streamlit Cloudä¸­éƒ¨ç½²
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-15)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ¨ å®Œæ•´çš„ä¸‰ç«¯åŠŸèƒ½å®ç°
- ğŸ“Š ä¸°å¯Œçš„æ•°æ®å¯è§†åŒ–
- ğŸ”’ å®‰å…¨çš„è®¤è¯ç³»ç»Ÿ
- ğŸ“± å“åº”å¼ç•Œé¢è®¾è®¡

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ç»´æŠ¤è€…: [Your Name]
- é‚®ç®±: [your.email@example.com]
- é¡¹ç›®é“¾æ¥: [https://github.com/yourusername/attendance-system]

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š
- [Streamlit](https://streamlit.io/)
- [Plotly](https://plotly.com/)
- [Folium](https://python-visualization.github.io/folium/)
- [QRCode](https://github.com/lincolnloop/python-qrcode)